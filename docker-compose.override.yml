version: '3.8'

# Development Docker Compose Override
# This file is automatically merged with docker-compose.yml when running: docker-compose up
# For production, use: docker-compose -f docker-compose.yml -f docker-compose.prod.yml up

services:
  # ==========================================
  # SQL Server - Development Overrides
  # ==========================================
  sqlserver:
    # Dev: Less strict health check
    healthcheck:
      interval: 10s
      timeout: 5s
      retries: 5

  # ==========================================
  # WebAPI Backend - Development Overrides
  # ==========================================
  webapi:
    # Dev: Additional debugging environment
    environment:
      - DOTNET_WATCH_SUPPRESS_LAUNCH_BROWSER=1
      # Dev: Detailed logging
      - Logging__LogLevel__Default=Debug
      - Logging__LogLevel__Microsoft.AspNetCore=Information
    
    # Dev: Expose additional debugging ports
    ports:
      - "5297:5297"
      - "5298:5298"  # Additional debug port for remote debugging
    
    # Dev: No resource limits for flexibility
    deploy:
      resources: {}
